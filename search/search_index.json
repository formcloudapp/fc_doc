{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to FC Documentation","text":""},{"location":"#getting-started","title":"Getting Started","text":"<p>Please follow the instructions below in sequential order:</p> <ul> <li>Download: FC Server Application</li> <li>Download: FC Client Application</li> <li>Go to Retrieved Update Sets and Import XML to load the \"FC Server Application\" update set.</li> <li>Preview update set and commit.</li> <li>Go to <code>https://[your_instance]/sys_ws_operation.do?sys_id=ed18366c975746d0e12c3eb0f053afce</code></li> <li>Set your Application Scope to FC and upload all files from the FC_Client_Application.zip as attachments on this record.</li> <li>When working within the application, we want to set the current application scope to FC during insert, update, or delete operations, due to the siloed nature of the design. However, given the limitation that the application scope can only be set from the global scope, we need to create a script include in the global scope that is callable from all application scopes. Please create a new script include as outlined below:<ul> <li>Name: FCGlobalUtility</li> <li>API Name: global.FCGlobalUtility </li> <li>Application: Global</li> <li>Accessible from: All Application Scope</li> <li>Script:      <pre><code>var FCGlobalUtility = Class.create();\nFCGlobalUtility.prototype = {\n    initialize: function() {},\n    setApplicationScopeById: function(scopeId) {\n        if (gs.getCurrentApplicationId() != scopeId) {\n            gs.setCurrentApplicationId(scopeId);\n        }\n    },\n    beautifyEncodedQuery: function(table, query) {\n        var gqs = new GlideQueryString(table, query);\n        var prettyQuery = gqs.getPrettyQuery();\n        return prettyQuery;\n    },\n    getAvatar: function() {\n        return gs.getUser().getAvatar();\n    },\n    getImpersonatingUserName: function() {\n        return gs.getImpersonatingUserName();\n    },\n    isImpersonating: function() {\n        return new GlideImpersonate().isImpersonating();\n    },\n    getFields: function(gr) {\n        var fields = gr.getFields();\n        var result = [];\n        for (var i = 0; i &lt; fields.size(); i++) {\n\n            var field = fields.get(i);\n\n            result.push({\n                label: field.getLabel(),\n                name: field.getName(),\n                field_type: field.getInternalType().toString()\n            });\n\n        }\n        return result;\n    },\n    type: 'FCGlobalUtility'\n};\n</code></pre></li> <li>Navigate to <code>https://[your_instance]/x_509925_fc_core</code> to see the portal.</li> </ul> </li> </ul>"},{"location":"code/","title":"Function to add two numbers","text":"page.js<pre><code>function test(){\n    var a = 456;\n    return false;\n}\n</code></pre> HTMLClient ScriptServer Script <p>Some html here</p> <p>Client script here</p> <p>Server script</p> <p>Title here</p> <p>Some admonition here...</p> Title here <p>Some admonition here...</p> <pre><code>graph LR\n    A[Start] --&gt; B{Failure?};\n    B --&gt;|Yes| C[Investigate...];\n    C --&gt; D[Debug];\n    D --&gt; B;\n    B ----&gt;|No| E[Success!];</code></pre>"},{"location":"API/FCAttachmentRepository/","title":"FCAttachmentRepository","text":"<p>A repository class for managing attachments in ServiceNow. Extends <code>FCRepository</code>.</p>"},{"location":"API/FCAttachmentRepository/#constructor","title":"Constructor","text":""},{"location":"API/FCAttachmentRepository/#new-fcattachmentrepositoryoverrideacl","title":"<code>new FCAttachmentRepository(overrideACL)</code>","text":"<p>Creates a new instance of FCAttachmentRepository.</p> <ul> <li>Parameters:</li> <li><code>overrideACL</code> (boolean, optional): If true, uses GlideRecord. If false, uses GlideRecordSecure. Default: false</li> </ul> <pre><code>var attachmentRepo = new FCAttachmentRepository(true);\n</code></pre>"},{"location":"API/FCAttachmentRepository/#methods","title":"Methods","text":""},{"location":"API/FCAttachmentRepository/#createcontent-filename-tablename-tablesysid","title":"<code>create(content, fileName, tableName, tableSysId)</code>","text":"<p>Creates an attachment from base64 encoded content.</p> <ul> <li>Parameters:</li> <li><code>content</code> (string): Base64 encoded content with data URI prefix</li> <li><code>fileName</code> (string): Name for the file</li> <li><code>tableName</code> (string): Target ServiceNow table</li> <li><code>tableSysId</code> (string): Target record's sys_id</li> <li>Returns: GlideRecord of created attachment</li> <li>Throws: Error if parameters missing or invalid content</li> </ul> <pre><code>var content = 'data:application/pdf;base64,JVBERi0xLjcKCjEgMCBvYmo...';\nvar attachment = attachmentRepo.create(\n    content,\n    'document.pdf',\n    'incident',\n    '1234567890abcdef1234567890abcdef'\n);\n</code></pre>"},{"location":"API/FCAttachmentRepository/#parsebase64contentbase64string","title":"<code>parseBase64Content(base64String)</code>","text":"<p>Parses base64 content string to extract content type and data.</p> <ul> <li>Parameters:</li> <li><code>base64String</code> (string): Base64 encoded content with data URI prefix</li> <li>Returns: Object with contentType and content properties, or null if invalid</li> </ul> <pre><code>var result = attachmentRepo.parseBase64Content('data:image/png;base64,iVBORw0KGgoAAAA...');\n// Returns: { contentType: 'image/png', content: 'iVBORw0KGgoAAAA...' }\n</code></pre>"},{"location":"API/FCAttachmentRepository/#getbase64byidid","title":"<code>getBase64ById(id)</code>","text":"<p>Retrieves base64 content of an attachment by sys_id.</p> <ul> <li>Parameters:</li> <li><code>id</code> (string): Attachment sys_id</li> <li>Returns: Base64 encoded content string</li> <li>Throws: Error if id missing or access denied</li> </ul> <pre><code>var base64Content = attachmentRepo.getBase64ById('1234567890abcdef1234567890abcdef');\n</code></pre>"},{"location":"API/FCAttachmentRepository/#getbase64bytemplateidid","title":"<code>getBase64ByTemplateId(id)</code>","text":"<p>Retrieves base64 content of an attachment associated with a PDF template.</p> <ul> <li>Parameters:</li> <li><code>id</code> (string): PDF template sys_id</li> <li>Returns: Base64 encoded content string</li> <li>Throws: Error if no attachment found</li> </ul> <pre><code>var templateContent = attachmentRepo.getBase64ByTemplateId('1234567890abcdef1234567890abcdef');\n</code></pre>"},{"location":"API/FCAttachmentRepository/#getbyidsysid-isserialize","title":"<code>getById(sysId, isSerialize)</code>","text":"<p>Retrieves attachment record by sys_id.</p> <ul> <li>Parameters:</li> <li><code>sysId</code> (string): Attachment sys_id</li> <li><code>isSerialize</code> (boolean, optional): If true, returns JSON object</li> <li>Returns: GlideRecord or JSON object of attachment</li> </ul> <pre><code>// Get GlideRecord\nvar attachmentRecord = attachmentRepo.getById('1234567890abcdef1234567890abcdef');\n\n// Get serialized JSON\nvar attachmentJson = attachmentRepo.getById('1234567890abcdef1234567890abcdef', true);\n</code></pre>"},{"location":"API/FCAttachmentRepository/#deletebyidsysid","title":"<code>deleteById(sysId)</code>","text":"<p>Deletes an attachment by sys_id.</p> <ul> <li>Parameters:</li> <li><code>sysId</code> (string): Attachment sys_id</li> <li>Returns: Boolean indicating success</li> <li>Throws: Error if deletion fails</li> </ul> <pre><code>var isDeleted = attachmentRepo.deleteById('1234567890abcdef1234567890abcdef');\nif (isDeleted) {\n    gs.info('Attachment deleted successfully');\n}\n</code></pre>"},{"location":"API/FCAttachmentRepository/#error-handling","title":"Error Handling","text":"<p>All methods include error handling and will throw errors with detailed information when issues occur. Errors are handled through the inherited <code>throwError</code> method from <code>FCRepository</code>.</p>"},{"location":"API/FCCaseExtentionRepository/","title":"FCCaseExtentionRepository","text":"<p>A repository class for managing case extensions in ServiceNow. Extends the base FCRepository class.</p>"},{"location":"API/FCCaseExtentionRepository/#constructor","title":"Constructor","text":""},{"location":"API/FCCaseExtentionRepository/#new-fccaseextensionrepositoryoverrideacl","title":"<code>new FCCaseExtensionRepository(overrideACL)</code>","text":"<p>Creates a new instance of the case extension repository.</p> <p>Parameters: - <code>overrideACL</code> (boolean): Whether to override Access Control List checks</p> <p>Example: <pre><code>const repo = new FCCaseExtensionRepository(true);\n</code></pre></p>"},{"location":"API/FCCaseExtentionRepository/#methods","title":"Methods","text":""},{"location":"API/FCCaseExtentionRepository/#getbyidsysid-isserialized","title":"<code>getById(sysId, isSerialized)</code>","text":"<p>Retrieves a case extension by its system ID.</p> <p>Parameters: - <code>sysId</code> (string): The system ID of the case extension - <code>isSerialized</code> (boolean, optional): If true, returns serialized object instead of GlideRecord</p> <p>Returns: - <code>GlideRecord|Object</code>: The case extension record</p> <p>Example: <pre><code>const repo = new FCCaseExtensionRepository(true);\n\n// Get as GlideRecord\nconst extensionGr = repo.getById('1234567890abcdef1234567890abcdef');\n\n// Get as serialized object\nconst extensionObj = repo.getById('1234567890abcdef1234567890abcdef', true);\n</code></pre></p>"},{"location":"API/FCCaseExtentionRepository/#getbytargettargetid","title":"<code>getByTarget(targetId)</code>","text":"<p>Retrieves a case extension by the associated target task ID.</p> <p>Parameters: - <code>targetId</code> (string): The ID of the target task</p> <p>Returns: - <code>GlideRecord|Object</code>: The case extension record</p> <p>Example: <pre><code>const repo = new FCCaseExtensionRepository(true);\nconst extension = repo.getByTarget('task_sys_id_here');\n</code></pre></p>"},{"location":"API/FCCaseExtentionRepository/#loadextensiontotargetformobj-targetid","title":"<code>loadExtensionToTarget(formObj, targetId)</code>","text":"<p>Loads extension data into a form object based on the target task ID. Updates question answers in the form sections based on stored extension data.</p> <p>Parameters: - <code>formObj</code> (Object): The form object containing sections and questions - <code>targetId</code> (string): The ID of the target task</p> <p>Example: <pre><code>const repo = new FCCaseExtensionRepository(true);\n\nconst formObject = {\n    sections: [{\n        questions: [{\n            property: 'category',\n            answer: ''\n        }, {\n            property: 'priority',\n            answer: ''\n        }]\n    }]\n};\n\n// Load extension data into form\nrepo.loadExtensionToTarget(formObject, 'task_sys_id_here');\n\n// formObject questions will now have their answers populated from the extension data\n</code></pre></p>"},{"location":"API/FCCaseExtentionRepository/#properties","title":"Properties","text":""},{"location":"API/FCCaseExtentionRepository/#type","title":"<code>type</code>","text":"<p>Type: string Value: 'FCCaseExtensionRepository' Specifies the type of this repository.</p>"},{"location":"API/FCCaseExtentionRepository/#modulename","title":"<code>moduleName</code>","text":"<p>Type: string Value: 'FCCaseExtensionRepository' Specifies the module name for logging and error handling.</p>"},{"location":"API/FCChoiceRepository/","title":"FCChoiceRepository","text":""},{"location":"API/FCChoiceRepository/#overview","title":"Overview","text":"<p><code>FCChoiceRepository</code> is a ServiceNow repository class that provides access to choice field options from the <code>sys_choice</code> table. It extends <code>FCRepository</code> and includes functionality to retrieve choice options while respecting table inheritance.</p>"},{"location":"API/FCChoiceRepository/#class-constructor","title":"Class Constructor","text":""},{"location":"API/FCChoiceRepository/#fcchoicerepositoryoverrideacl","title":"<code>FCChoiceRepository(overrideACL)</code>","text":"<p>Creates a new instance of the choice repository.</p>"},{"location":"API/FCChoiceRepository/#parameters","title":"Parameters","text":"<ul> <li><code>overrideACL</code> (boolean): When true, bypasses Access Control List checks</li> </ul>"},{"location":"API/FCChoiceRepository/#example","title":"Example","text":"<pre><code>var choiceRepo = new FCChoiceRepository(true);\n</code></pre>"},{"location":"API/FCChoiceRepository/#methods","title":"Methods","text":""},{"location":"API/FCChoiceRepository/#getbytablefieldtablename-fieldname","title":"<code>getByTableField(tableName, fieldName)</code>","text":"<p>Retrieves all choice options for a specified table and field, including inherited choices from parent tables.</p>"},{"location":"API/FCChoiceRepository/#parameters_1","title":"Parameters","text":"<ul> <li><code>tableName</code> (string): The name of the table containing the choice field</li> <li><code>fieldName</code> (string): The name of the choice field</li> </ul>"},{"location":"API/FCChoiceRepository/#returns","title":"Returns","text":"<p>Array of objects with the following structure: - <code>label</code> (string): Display label for the choice - <code>value</code> (string): Stored value for the choice</p>"},{"location":"API/FCChoiceRepository/#example_1","title":"Example","text":"<pre><code>try {\n    var choiceRepo = new FCChoiceRepository(true);\n\n    // Get choices for incident state field\n    var stateChoices = choiceRepo.getByTableField('incident', 'state');\n\n    // Log the choices\n    stateChoices.forEach(function(choice) {\n        gs.info('Label: ' + choice.label + ', Value: ' + choice.value);\n    });\n\n    // Example using the choices in a workflow\n    var firstChoice = stateChoices[0];\n    current.state = firstChoice.value;\n\n} catch (error) {\n    gs.error('Failed to retrieve choices: ' + error.message);\n}\n</code></pre>"},{"location":"API/FCChoiceRepository/#example-response","title":"Example Response","text":"<pre><code>[\n    { label: \"New\", value: \"1\" },\n    { label: \"In Progress\", value: \"2\" },\n    { label: \"On Hold\", value: \"3\" },\n    { label: \"Resolved\", value: \"4\" },\n    { label: \"Closed\", value: \"5\" }\n]\n</code></pre>"},{"location":"API/FCChoiceRepository/#inheritance-behavior","title":"Inheritance Behavior","text":"<p>The repository automatically handles table inheritance. When retrieving choices for a table:</p> <ol> <li>It first gets choices defined directly on the specified table</li> <li>Then traverses up the table inheritance chain to get choices from parent tables</li> <li>Removes any duplicate values, keeping the first occurrence</li> <li>Sorts the final list alphabetically by label</li> </ol>"},{"location":"API/FCChoiceRepository/#error-handling","title":"Error Handling","text":"<p>All methods include error handling and will throw detailed error messages when:</p> <ul> <li>Table access is denied</li> <li>Invalid table or field names are provided</li> <li>Database queries fail</li> </ul> <p>Example error handling:</p> <pre><code>try {\n    var choiceRepo = new FCChoiceRepository(true);\n    var choices = choiceRepo.getByTableField('incident', 'state');\n} catch (error) {\n    gs.error('Choice retrieval failed: ' + error.message);\n    // Handle the error appropriately\n}\n</code></pre>"},{"location":"API/FCChoiceRepository/#best-practices","title":"Best Practices","text":"<ol> <li>Always wrap repository calls in try-catch blocks</li> <li>Consider ACL implications when setting <code>overrideACL</code></li> <li>Cache results when making multiple calls for the same table/field combination</li> <li>Use the returned label/value pairs consistently in your application</li> </ol>"},{"location":"API/FCChoiceRepository/#dependencies","title":"Dependencies","text":"<ul> <li>Requires access to <code>sys_choice</code> table</li> <li>Requires access to <code>sys_db_object</code> table for inheritance traversal</li> <li>Extends <code>FCRepository</code> class (must be available in the system)</li> </ul>"},{"location":"API/FCDepartmentRepository/","title":"FCDepartmentRepository","text":""},{"location":"API/FCDepartmentRepository/#overview","title":"Overview","text":"<p><code>FCDepartmentRepository</code> is a class that extends <code>FCRepository</code> to manage <code>cmn_department</code> records in ServiceNow. It provides functionality to retrieve departments and their hierarchical structures.</p>"},{"location":"API/FCDepartmentRepository/#class-methods","title":"Class Methods","text":""},{"location":"API/FCDepartmentRepository/#constructor","title":"constructor","text":"<p><pre><code>new FCDepartmentRepository(overrideACL)\n</code></pre> Creates a new instance of the department repository.</p> <p>Parameters: - <code>overrideACL</code> (boolean): When true, bypasses Access Control List restrictions</p> <p>Example: <pre><code>var deptRepo = new FCDepartmentRepository(false);\n</code></pre></p>"},{"location":"API/FCDepartmentRepository/#getbybusinessunit","title":"getByBusinessUnit","text":"<p><pre><code>getByBusinessUnit(businessUnitId, isSerialized)\n</code></pre> Retrieves all departments associated with a specific business unit.</p> <p>Parameters: - <code>businessUnitId</code> (string): The system ID of the business unit - <code>isSerialized</code> (boolean): When true, returns plain JavaScript objects; when false, returns GlideRecord objects</p> <p>Returns: - Array of departments (GlideRecord[] or Object[])</p> <p>Example: <pre><code>var deptRepo = new FCDepartmentRepository(false);\n\n// Get departments as GlideRecords\nvar depts = deptRepo.getByBusinessUnit('business_unit_sys_id', false);\n\n// Get departments as serialized objects\nvar serializedDepts = deptRepo.getByBusinessUnit('business_unit_sys_id', true);\n\n// Process departments\ndepts.forEach(function(dept) {\n    gs.info('Department: ' + dept.name);\n});\n</code></pre></p>"},{"location":"API/FCDepartmentRepository/#getdepartmenttreeforid","title":"getDepartmentTreeForId","text":"<p><pre><code>getDepartmentTreeForId(sysId)\n</code></pre> Retrieves the hierarchical tree of departments for a given department ID. This method returns all parent departments up to the root department.</p> <p>Parameters: - <code>sysId</code> (string): The system ID of the department</p> <p>Returns: - Array of departments in hierarchical order (root to leaf)</p> <p>Example: <pre><code>var deptRepo = new FCDepartmentRepository(false);\n\n// Get department hierarchy\nvar deptTree = deptRepo.getDepartmentTreeForId('department_sys_id');\n\n// Process department tree\ndeptTree.forEach(function(dept) {\n    // Assuming departments have a 'level' field based on code\n    var indent = '  '.repeat(dept.code);\n    gs.info(indent + 'Department: ' + dept.name);\n});\n</code></pre></p>"},{"location":"API/FCDepartmentRepository/#usage-notes","title":"Usage Notes","text":"<ol> <li>The repository uses the <code>cmn_department</code> table in ServiceNow.</li> <li>Department hierarchies are determined using the department's ID and code fields.</li> <li>When <code>isSerialized</code> is true, you get plain JavaScript objects that can be easily stringified for API responses.</li> <li>The department tree is returned in ascending order by department code.</li> </ol>"},{"location":"API/FCDepartmentRepository/#error-handling","title":"Error Handling","text":"<p>It's recommended to wrap repository calls in try-catch blocks:</p> <pre><code>try {\n    var deptRepo = new FCDepartmentRepository(false);\n    var departments = deptRepo.getByBusinessUnit('business_unit_sys_id', true);\n    // Process departments\n} catch (ex) {\n    gs.error('Error retrieving departments: ' + ex.message);\n}\n</code></pre>"},{"location":"API/FCDepartmentRepository/#dependencies","title":"Dependencies","text":"<ul> <li>Requires the base <code>FCRepository</code> class</li> <li>Requires access to the <code>cmn_department</code> table</li> <li>Proper ACL configurations if not using <code>overrideACL</code></li> </ul>"},{"location":"API/FCGQLBrokerRepository/","title":"FCGQLBrokerRepository","text":""},{"location":"API/FCGQLBrokerRepository/#overview","title":"Overview","text":"<p>The <code>FCGQLBrokerRepository</code> class is a repository pattern implementation for interacting with GraphQL query broker records in ServiceNow. It extends the base <code>FCRepository</code> class and provides functionality to retrieve and evaluate GraphQL broker records.</p>"},{"location":"API/FCGQLBrokerRepository/#class-constructor","title":"Class Constructor","text":""},{"location":"API/FCGQLBrokerRepository/#new-fcgqlbrokerrepositoryoverrideacl","title":"<code>new FCGQLBrokerRepository(overrideACL)</code>","text":"<p>Creates a new instance of the GraphQL broker repository.</p> <p>Parameters: - <code>overrideACL</code> (boolean): When true, bypasses Access Control List restrictions</p> <p>Example: <pre><code>var brokerRepo = new FCGQLBrokerRepository(false);\n</code></pre></p>"},{"location":"API/FCGQLBrokerRepository/#methods","title":"Methods","text":""},{"location":"API/FCGQLBrokerRepository/#getbynamename-params","title":"<code>getByName(name, params)</code>","text":"<p>Retrieves and evaluates a GraphQL broker record by its name.</p> <p>Parameters: - <code>name</code> (string): The name of the GraphQL broker record to retrieve - <code>params</code> (Object, optional): Parameters that will be available in the script evaluation context</p> <p>Returns: - <code>Object</code>: Result containing:   - Evaluated script result   - <code>filters</code>: Result of the filter builder script   - <code>sys_id</code>: System ID of the broker record</p> <p>Throws: - <code>Error</code>: If no record is found with the specified name</p> <p>Example: <pre><code>try {\n    // Simple query without parameters\n    var result1 = brokerRepo.getByName('get_users');\n\n    // Query with parameters\n    var result2 = brokerRepo.getByName('get_user_by_id', {\n        userId: 'abc123',\n        includeRoles: true\n    });\n\n    gs.info('Query result: ' + JSON.stringify(result2));\n} catch (ex) {\n    gs.error('Failed to execute query: ' + ex.message);\n}\n</code></pre></p>"},{"location":"API/FCGQLBrokerRepository/#usage-notes","title":"Usage Notes","text":"<ol> <li>The repository automatically handles the table name through the <code>FCConstantUtility</code>.</li> <li>Both the main script and filter builder script have access to:</li> <li><code>current</code>: The GlideRecord of the broker record</li> <li><code>params</code>: The parameters passed to <code>getByName()</code></li> <li>The evaluated scripts should return objects that match your GraphQL query structure.</li> <li>Error handling should be implemented at the calling level to handle potential exceptions.</li> </ol>"},{"location":"API/FCGQLBrokerRepository/#best-practices","title":"Best Practices","text":"<ol> <li>Always validate input parameters before using them in queries</li> <li>Use meaningful names for broker records</li> <li>Implement proper error handling when calling repository methods</li> <li>Keep scripts modular and focused on a single responsibility</li> <li>Document expected parameters for each broker record</li> </ol> <p>This repository pattern provides a clean separation of concerns between GraphQL query management and business logic implementation.</p>"},{"location":"API/FCJournalRepository/","title":"FCJournalRepository API Documentation","text":"<p><code>FCJournalRepository</code> is a class that extends <code>FCRepository</code> to handle journal entries stored in the 'sys_journal_field' table.</p>"},{"location":"API/FCJournalRepository/#constructor","title":"Constructor","text":""},{"location":"API/FCJournalRepository/#new-fcjournalrepositoryoverrideacl","title":"<code>new FCJournalRepository(overrideACL)</code>","text":"<p>Creates a new instance of the journal repository.</p> <p>Parameters: - <code>overrideACL</code> (boolean): Flag to indicate whether to override the Access Control List (ACL)</p> <p>Example: <pre><code>var journalRepo = new FCJournalRepository(true);\n</code></pre></p>"},{"location":"API/FCJournalRepository/#methods","title":"Methods","text":""},{"location":"API/FCJournalRepository/#getjournalsrecordid-type","title":"<code>getJournals(recordId, type)</code>","text":"<p>Retrieves journal entries for a specified record and type, including user information and avatars.</p> <p>Parameters: - <code>recordId</code> (string): The unique identifier of the record to retrieve journal entries for - <code>type</code> (string): The type of journal entries to retrieve (e.g., 'comments', 'work_notes')</p> <p>Returns: - Array"},{"location":"API/FCLoggerUtility/","title":"FCLoggerUtility","text":""},{"location":"API/FCLoggerUtility/#overview","title":"Overview","text":"<p>The FCLoggerUtility class provides logging functionality for error and debug messages in ServiceNow applications.</p>"},{"location":"API/FCLoggerUtility/#constructor","title":"Constructor","text":""},{"location":"API/FCLoggerUtility/#new-fcloggerutility","title":"<code>new FCLoggerUtility()</code>","text":"<p>Creates a new instance of the FCLoggerUtility class.</p> <pre><code>var logger = new FCLoggerUtility();\n</code></pre>"},{"location":"API/FCLoggerUtility/#methods","title":"Methods","text":""},{"location":"API/FCLoggerUtility/#errormessage-modulename-stack","title":"<code>error(message, moduleName, stack)</code>","text":"<p>Logs an error message with a unique identifier and stack trace.</p> <p>Parameters: - <code>message</code> (string): The error message to log - <code>moduleName</code> (string): The module name associated with the error - <code>stack</code> (string): The stack trace for the error</p> <p>Returns: - <code>string</code>: A unique 6-digit error code</p> <p>Example: <pre><code>var logger = new FCLoggerUtility();\n\ntry {\n    // Some code that might throw an error\n    throw new Error('Invalid data format');\n} catch (e) {\n    var errorCode = logger.error(\n        'Failed to process data', \n        'DataProcessor', \n        e.stack\n    );\n    // errorCode will be something like '123456'\n    // Log output will be: \"[123456] DataProcessor: Failed to process data\\nStack Trace:\\n&lt;stack trace details&gt;\"\n}\n</code></pre></p>"},{"location":"API/FCLoggerUtility/#debugmessage-param","title":"<code>debug(message, param)</code>","text":"<p>Logs a debug message with an optional parameter.</p> <p>Parameters: - <code>message</code> (string): The debug message to log - <code>param</code> (any): Additional parameter to log alongside the message</p> <p>Example: <pre><code>var logger = new FCLoggerUtility();\n\n// Simple debug message\nlogger.debug('Processing started');\n\n// Debug message with parameter\nvar userData = {\n    id: '12345',\n    name: 'John Doe'\n};\nlogger.debug('User data received', userData);\n</code></pre></p>"},{"location":"API/FCLoggerUtility/#usage-example","title":"Usage Example","text":"<p>Here's a complete example showing how to use both methods in a typical scenario:</p> <pre><code>var logger = new FCLoggerUtility();\n\nfunction processUserData(userData) {\n    try {\n        logger.debug('Starting user data processing', userData);\n\n        if (!userData.id) {\n            throw new Error('User ID is required');\n        }\n\n        // Process the data...\n        logger.debug('User data processed successfully');\n\n    } catch (e) {\n        var errorCode = logger.error(\n            'User data processing failed', \n            'UserProcessor', \n            e.stack\n        );\n        gs.addErrorMessage('Processing failed. Error code: ' + errorCode);\n    }\n}\n\n// Using the function\nprocessUserData({\n    name: 'John Doe'\n    // Missing id field will trigger error\n});\n</code></pre> <p>This example demonstrates how to: 1. Create a logger instance 2. Use debug logging for tracking execution flow 3. Handle errors with unique error codes 4. Include relevant context in both debug and error logs</p>"},{"location":"API/FCPersonaUtility/","title":"FCPersonaUtility","text":""},{"location":"API/FCPersonaUtility/#overview","title":"Overview","text":"<p>The <code>FCPersonaUtility</code> class provides utility methods for managing and evaluating personas in the FC application. It allows you to retrieve and evaluate persona conditions based on specified parameters.</p> <p>Note</p> <p>All personas are stored in the <code>x_509925_fc_taxonomy</code> table with the <code>type</code> field set to <code>persona</code>.</p>"},{"location":"API/FCPersonaUtility/#methods","title":"Methods","text":""},{"location":"API/FCPersonaUtility/#getallpersonasparams","title":"getAllPersonas(params)","text":"<p>Retrieves all personas and evaluates their conditions based on the provided parameters.</p>"},{"location":"API/FCPersonaUtility/#parameters","title":"Parameters","text":"<ul> <li><code>params</code> (Object): Parameters used for condition evaluation.</li> </ul>"},{"location":"API/FCPersonaUtility/#returns","title":"Returns","text":"<ul> <li><code>Object</code>: A mapping of persona names to their evaluated condition results</li> <li>Keys are persona names (lowercase, spaces replaced with underscores)</li> <li>Values are boolean results of condition evaluation</li> </ul>"},{"location":"API/FCPersonaUtility/#example","title":"Example","text":"<pre><code>// Create an instance of FCPersonaUtility\nvar personaUtil = new FCPersonaUtility();\n\n// Example parameters for evaluation\nvar params = {\n    user: gs.getUserID(),\n    role: 'admin',\n    department: 'IT'\n};\n\n// Get all personas and their evaluation results\nvar personas = personaUtil.getAllPersonas(params);\n\n// Example output:\n// {\n//     \"it_admin\": true,\n//     \"help_desk\": false,\n//     \"end_user\": true\n// }\n\n// Using the results\nfor (var personaName in personas) {\n    if (personas[personaName]) {\n        gs.info(personaName + ' condition evaluated to true');\n    }\n}\n</code></pre>"},{"location":"API/FCPersonaUtility/#ispersonaname-params","title":"isPersona(name, params)","text":"<p>Checks if a specific persona exists and evaluates its condition.</p>"},{"location":"API/FCPersonaUtility/#parameters_1","title":"Parameters","text":"<ul> <li><code>name</code> (string): The name of the persona to check</li> <li><code>params</code> (Object, optional): Parameters for condition evaluation. Defaults to empty object {}</li> </ul>"},{"location":"API/FCPersonaUtility/#returns_1","title":"Returns","text":"<ul> <li><code>boolean|string</code>: </li> <li><code>false</code> if the persona doesn't exist or the condition is nil</li> <li>Result of condition evaluation otherwise</li> </ul>"},{"location":"API/FCPersonaUtility/#example_1","title":"Example","text":"<pre><code>var personaUtil = new FCPersonaUtility();\n\n// Example 1: Check if user has 'IT Admin' persona\nvar params = {\n    user: gs.getUserID(),\n    role: 'admin'\n};\nvar isITAdmin = personaUtil.isPersona('IT Admin', params);\n\nif (isITAdmin) {\n    gs.info('User has IT Admin persona');\n}\n\n// Example 2: Check persona without parameters\nvar isEndUser = personaUtil.isPersona('End User');\n\n// Example 3: Check with custom parameters\nvar customParams = {\n    department: 'IT',\n    location: 'New York',\n    isManager: true\n};\nvar isITManager = personaUtil.isPersona('IT Manager', customParams);\n</code></pre>"},{"location":"API/FCPersonaUtility/#usage-notes","title":"Usage Notes","text":"<ol> <li>Persona conditions are evaluated using <code>GlideScopedEvaluator</code></li> <li>The condition script has access to:</li> <li><code>current</code>: The persona GlideRecord</li> <li><code>params</code>: The parameters object passed to the method</li> <li>Persona names are normalized to lowercase with underscores replacing spaces</li> <li>Invalid or nil conditions always return <code>false</code></li> </ol>"},{"location":"API/FCPersonaUtility/#error-handling","title":"Error Handling","text":"<ul> <li>If <code>name</code> parameter is nil in <code>isPersona()</code>, returns <code>false</code></li> <li>If persona record is not found, returns <code>false</code></li> <li>If condition evaluation results in nil, returns <code>false</code></li> </ul> <p>This utility is particularly useful for role-based access control and conditional behavior based on user personas in your ServiceNow instance.</p>"},{"location":"API/FCRepository/","title":"FCRepository","text":"<p>A utility class for interacting with ServiceNow tables, providing a simplified interface for database operations.</p>"},{"location":"API/FCRepository/#constructor","title":"Constructor","text":""},{"location":"API/FCRepository/#fcrepositorytablename-overrideacl","title":"FCRepository(tableName, overrideACL)","text":"<p>Creates a new instance of FCRepository for a specific table.</p> <p>Parameters:</p> <ul> <li><code>tableName</code> (string): The name of the ServiceNow table</li> <li><code>overrideACL</code> (boolean, optional): If true, uses GlideRecord. If false, uses GlideRecordSecure. Default: false</li> </ul> <p>Example: <pre><code>// Using GlideRecord (overriding ACL)\nvar repo = new FCRepository('incident', true);\n\n// Using GlideRecordSecure (respecting ACL)\nvar secureRepo = new FCRepository('incident', false);\n</code></pre></p>"},{"location":"API/FCRepository/#methods","title":"Methods","text":""},{"location":"API/FCRepository/#getbyidsysid-isserialized","title":"getById(sysId, isSerialized)","text":"<p>Retrieves a single record by its sys_id.</p> <p>Parameters:</p> <ul> <li><code>sysId</code> (string): The sys_id of the record to fetch</li> <li><code>isSerialized</code> (boolean, optional): If true, returns a serialized object. If false, returns GlideRecord. Default: false</li> </ul> <p>Returns: GlideRecord|Object|null - The requested record</p> <p>Example: <pre><code>// Get GlideRecord\nvar record = new FCRepository('incident', true)\n    .getById('71c6eb7647810200e90d87e8dee490af');\n\n// Get serialized object\nvar serializedRecord = new FCRepository('incident', true)\n    .getById('71c6eb7647810200e90d87e8dee490af', true);\n</code></pre></p>"},{"location":"API/FCRepository/#addqueryquery","title":"addQuery(query)","text":"<p>Adds an encoded query to filter records.</p> <p>Parameters:</p> <ul> <li><code>query</code> (string): Encoded query string</li> </ul> <p>Returns: FCRepository - Returns self for method chaining</p> <p>Example: <pre><code>// Get GlideRecord with high priority incidents\nvar highPriorityGr = new FCRepository('incident', true)\n    .addQuery('priority=1')\n    .getMultiple();\n\n// Get serialized array of high priority incidents\nvar highPriorityArray = new FCRepository('incident', true)\n    .addQuery('priority=1')\n    .getMultiple(true);\n</code></pre></p>"},{"location":"API/FCRepository/#orderbyfield","title":"orderBy(field)","text":"<p>Orders the results by a specified field in ascending order.</p> <p>Parameters:</p> <ul> <li><code>field</code> (string): Field name to order by</li> </ul> <p>Returns: FCRepository - Returns self for method chaining</p> <p>Example: <pre><code>// Get GlideRecord ordered by number\nvar orderedGr = new FCRepository('incident', true)\n    .orderBy('number')\n    .getMultiple();\n\n// Get serialized array ordered by number\nvar orderedArray = new FCRepository('incident', true)\n    .orderBy('number')\n    .getMultiple(true);\n</code></pre></p>"},{"location":"API/FCRepository/#setlimitlimit","title":"setLimit(limit)","text":"<p>Sets the maximum number of records to return.</p> <p>Parameters:</p> <ul> <li><code>limit</code> (number): Maximum number of records to return</li> </ul> <p>Returns: FCRepository - Returns self for method chaining</p> <p>Example: <pre><code>// Get GlideRecord with 5 records\nvar limitedGr = new FCRepository('incident', true)\n    .setLimit(5)\n    .getMultiple();\n\n// Get serialized array with 5 records\nvar limitedArray = new FCRepository('incident', true)\n    .setLimit(5)\n    .getMultiple(true);\n</code></pre></p>"},{"location":"API/FCRepository/#getmultipleisserialized","title":"getMultiple(isSerialized)","text":"<p>Gets all records matching the current query conditions.</p> <p>Parameters:</p> <ul> <li><code>isSerialized</code> (boolean, optional): If true, returns array of serialized objects. If false, returns GlideRecord. Default: false</li> </ul> <p>Returns: Array"},{"location":"API/FCRepository/#updatefieldvalues","title":"FCRepository","text":""},{"location":"API/FCRepository/#insertfieldvalues","title":"FCRepository","text":""},{"location":"API/FCRepository/#advanced-usage-example","title":"FCRepository","text":""},{"location":"API/FCTaskRepository/","title":"FCTaskRepository","text":""},{"location":"API/FCTaskRepository/#overview","title":"Overview","text":"<p>The <code>FCTaskRepository</code> class provides methods for interacting with ServiceNow Task records. It extends the <code>FCRepository</code> class and offers functionality for querying, updating, and managing tasks.</p> <p>Note</p> <p>All tasks are stored in the <code>task</code> table. Using the <code>FCTaskRepository</code>, we can retrieve any record from tables that inherite from the <code>task</code> table.</p>"},{"location":"API/FCTaskRepository/#constants","title":"Constants","text":"<pre><code>CLOSE: 3            // Task state: Closed Complete\nCLOSE_INCOMPLETE: 4 // Task state: Closed Incomplete\nWORK: 2            // Task state: Work in Progress\nCANCEL: 7          // Task state: Cancelled\n</code></pre>"},{"location":"API/FCTaskRepository/#methods","title":"Methods","text":""},{"location":"API/FCTaskRepository/#constructor","title":"Constructor","text":"<pre><code>var taskRepo = new FCTaskRepository();\n// Or with a specific table and ACL override\nvar taskRepo = new FCTaskRepository('incident', true);\n</code></pre>"},{"location":"API/FCTaskRepository/#task-retrieval-methods","title":"Task Retrieval Methods","text":""},{"location":"API/FCTaskRepository/#getallbyassignedtomeisserialized","title":"getAllByAssignedToMe(isSerialized)","text":"<p>Retrieves all tasks assigned to the current user.</p> <pre><code>// Example 1: Get GlideRecord objects\nvar taskRepo = new FCTaskRepository();\nvar myTasks = taskRepo.getAllByAssignedToMe(false);\n\n// Example 2: Get serialized objects\nvar serializedTasks = taskRepo.getAllByAssignedToMe(true);\n</code></pre>"},{"location":"API/FCTaskRepository/#getactivebyassignedtomeisserialized","title":"getActiveByAssignedToMe(isSerialized)","text":"<p>Retrieves active tasks assigned to the current user.</p> <pre><code>var taskRepo = new FCTaskRepository();\nvar activeTasks = taskRepo.getActiveByAssignedToMe(true);\n</code></pre>"},{"location":"API/FCTaskRepository/#getbyassignedtouserid-isserialized","title":"getByAssignedTo(userId, isSerialized)","text":"<p>Retrieves tasks assigned to a specific user.</p> <pre><code>var taskRepo = new FCTaskRepository();\nvar userTasks = taskRepo.getByAssignedTo('user_sys_id', true);\n</code></pre>"},{"location":"API/FCTaskRepository/#getslacomingduenumberofdays-isserialized","title":"getSLAComingDue(numberOfDays, isSerialized)","text":"<p>Retrieves tasks approaching their SLA deadline.</p> <pre><code>var taskRepo = new FCTaskRepository();\n// Get tasks due within next 3 days\nvar upcomingTasks = taskRepo.getSLAComingDue(3, true);\n</code></pre>"},{"location":"API/FCTaskRepository/#getslabreachedisserialized","title":"getSLABreached(isSerialized)","text":"<p>Retrieves tasks that have breached their SLA.</p> <pre><code>var taskRepo = new FCTaskRepository();\nvar breachedTasks = taskRepo.getSLABreached(true);\n</code></pre>"},{"location":"API/FCTaskRepository/#task-management-methods","title":"Task Management Methods","text":""},{"location":"API/FCTaskRepository/#closecompletetasktaskid","title":"closeCompleteTask(taskId)","text":"<p>Closes a task as complete.</p> <pre><code>var taskRepo = new FCTaskRepository();\ntaskRepo.closeCompleteTask('task_sys_id');\n</code></pre>"},{"location":"API/FCTaskRepository/#closeincompletetasktaskid","title":"closeIncompleteTask(taskId)","text":"<p>Closes a task as incomplete.</p> <pre><code>var taskRepo = new FCTaskRepository();\ntaskRepo.closeIncompleteTask('task_sys_id');\n</code></pre>"},{"location":"API/FCTaskRepository/#worktasktaskid","title":"workTask(taskId)","text":"<p>Sets a task to work in progress state.</p> <pre><code>var taskRepo = new FCTaskRepository();\ntaskRepo.workTask('task_sys_id');\n</code></pre>"},{"location":"API/FCTaskRepository/#assigntometaskid","title":"assignToMe(taskId)","text":"<p>Assigns a task to the current user.</p> <pre><code>var taskRepo = new FCTaskRepository();\ntry {\n    taskRepo.assignToMe('task_sys_id');\n} catch(e) {\n    gs.error('Unable to assign task: ' + e.message);\n}\n</code></pre>"},{"location":"API/FCTaskRepository/#isassignabletomeassignmentgroupid","title":"isAssignableToMe(assignmentGroupId)","text":"<p>Checks if current user can be assigned to a task.</p> <pre><code>var taskRepo = new FCTaskRepository();\nvar canAssign = taskRepo.isAssignableToMe('group_sys_id');\nif (canAssign) {\n    // Proceed with assignment\n}\n</code></pre>"},{"location":"API/FCTaskRepository/#getcountbyfilternumberfilternumber","title":"getCountByFilterNumber(filterNumber)","text":"<p>Gets the count of tasks matching a specific filter.</p> <pre><code>var taskRepo = new FCTaskRepository();\nvar taskCount = taskRepo.getCountByFilterNumber('filter_number');\ngs.info('Number of matching tasks: ' + taskCount);\n</code></pre>"},{"location":"API/FCTaskRepository/#complete-usage-example","title":"Complete Usage Example","text":"<pre><code>// Initialize repository\nvar taskRepo = new FCTaskRepository();\n\n// Get all active tasks assigned to current user\nvar myActiveTasks = taskRepo.getActiveByAssignedToMe(true);\n\n// Process tasks approaching SLA\nvar upcomingTasks = taskRepo.getSLAComingDue(2, true);\nfor (var i = 0; i &lt; upcomingTasks.length; i++) {\n    var task = upcomingTasks[i];\n    gs.info('Task ' + task.number + ' is approaching SLA deadline');\n\n    // Set task to work in progress\n    taskRepo.workTask(task.sys_id);\n}\n\n// Check if task is assignable and assign\nif (taskRepo.isAssignableToMe('group_sys_id')) {\n    try {\n        taskRepo.assignToMe('task_sys_id');\n        gs.info('Task successfully assigned');\n    } catch(e) {\n        gs.error('Assignment failed: ' + e.message);\n    }\n}\n</code></pre>"},{"location":"API/FCTaskRepository/#error-handling","title":"Error Handling","text":"<ul> <li>Methods that modify tasks (close, work, cancel) return the GlideRecord of the updated task</li> <li><code>assignToMe()</code> throws an error if the current user doesn't have permission to reassign the task</li> <li><code>isAssignableToMe()</code> returns false if the assignment group is nil or user is not a member of the group</li> </ul>"},{"location":"API/FCTaskRepository/#notes","title":"Notes","text":"<ul> <li>All methods that return records support both serialized and non-serialized output</li> <li>When <code>isSerialized</code> is true, methods return plain JavaScript objects</li> <li>When <code>isSerialized</code> is false, methods return GlideRecord objects</li> <li>The repository supports ACL override through the constructor's second parameter</li> </ul>"},{"location":"API/overview/","title":"Overview","text":"<pre><code>graph TD;\n    A[FCRepository]--&gt;B[FCTaskRepository];\n    B--&gt;C[IncidentRepository];\n    B--&gt;D[HRCaseRepository];\n    A--&gt;E[UserRepository];\n    A--&gt;F[DepartmentRepository];</code></pre> <p>The diagram above illustrates the repository pattern implementation in ServiceNow. At the root is the <code>FCRepository</code> base class which provides core database interaction functionality. From there, specialized repositories inherit and extend this base functionality:</p> <ul> <li> <p><code>FCTaskRepository</code> extends <code>FCRepository</code> to handle records from the <code>task</code> table and its child tables. Since ServiceNow uses table inheritance, any repository that needs to work with a table inheriting from <code>task</code> (like <code>incident</code> or <code>sn_hr_core_case</code>) should extend <code>FCTaskRepository</code>. This ensures proper handling of task-specific fields and behaviors.</p> </li> <li> <p><code>IncidentRepository</code> extends <code>FCTaskRepository</code> to work specifically with incident records</p> </li> <li> <p><code>HRCaseRepository</code> extends <code>FCTaskRepository</code> to work specifically with HR case records</p> </li> <li> <p>Other specialized repositories like <code>UserRepository</code> and <code>DepartmentRepository</code> extend directly from <code>FCRepository</code> since they work with independent tables that don't inherit from <code>task</code></p> </li> </ul> <p>Note</p> <p>Extended repositories can override methods from their parent repository by implementing methods with the same name. For example, <code>IncidentRepository</code> could override <code>getActiveByAssignedToMe()</code> from <code>FCTaskRepository</code> to add incident-specific filtering or behavior.</p> <p>This pattern provides several benefits: - Code reuse through inheritance - Consistent data access patterns - Separation of concerns between data access and business logic - Type safety through specialized repositories - Easier testing and maintenance</p>"},{"location":"Components/Datatable/default/","title":"Default Configuration","text":"<p>Default Configuration</p> <p>When creating a new datatable, the following code and configurations is by default. To create a new datatable, you can use the datatable builder in the FC UI. However, you can view the code and configurations in the ServiceNow backend by going to this url: <code>https://&lt;your-instance&gt;.service-now.com/nav_to.do?uri=x_509925_fc_graphql_query_broker.do</code>. Keep in mind that it is not recommended to edit the code in the ServiceNow backend unless you are absolutely sure about what you are doing. The recommended way to configure the datatable is to use the datatable builder in the FC UI.</p> Filter BuilderScriptGQLColumns ConfigsRecord Script <pre><code>((current, params) =&gt; {\n\n    return '';\n\n})(current, params);\n</code></pre> <p>The script below configures the datatable by setting up essential properties and configurations:</p> <p>The GQL query is the GraphQL query that will be used to fetch the data from the backend.</p> <p>The GQL query builder function takes two parameters:</p> <ul> <li><code>params</code>: URL parameters passed from the frontend</li> <li><code>configs</code>: Configuration object returned from the script section above, containing:<ul> <li><code>schema</code>: Type of schema ('ootb' or 'custom')</li> <li><code>table</code>: Table name to query</li> <li><code>filters</code>: Query conditions/filters</li> <li><code>offset</code>: Pagination offset</li> <li><code>limit</code>: Pagination limit</li> <li><code>gql</code>: Fields to retrieve in the query</li> <li><code>namespace</code>: GraphQL namespace for custom schemas</li> <li><code>gql_schema</code>: Schema namespace</li> </ul> </li> </ul> <p>For OOTB schemas, it builds a query using the GlideRecord_Query structure. For custom schemas, it builds a query with the custom namespace and schema, including sys_id and specified fields.</p> Client Script<pre><code>    function execute(params, configs) {\n    let gql = '';\n    if (configs.schema == 'ootb') {\n        gql = `\n        {\n            GlideRecord_Query{\n                ${configs.table}(queryConditions: \"${configs.filters}\", pagination: { offset: ${configs.offset}, limit: ${configs.limit} }) {\n                    _rowCount\n                    _results ${configs.gql}\n                }\n            }\n        }\n    `;\n    }else{\n        gql = `\n        {\n            ${configs.namespace}{\n                ${configs.gql_schema}{\n                    getMultiple(tableName: \"${configs.table}\", queryConditions: \"${configs.filters}\", pagination: { offset: ${configs.offset}, limit: ${configs.limit} })\n                    {\n                        sys_id{\n                            value\n                        }\n                        ...on ${configs.namespace}_${configs.gql_schema}_${configs.table}  ${configs.gql}\n                    }\n                    getCount(tableName: \"${configs.table}\", queryConditions: \"${configs.filters}\")\n                }\n            }\n        }\n        `;\n    }\n\n    return gql;\n}\n</code></pre> <p>This field by default is an empty array. This is where you can define the columns of the datatable. When you add a new column from the datatable builder, it will be added to this array.</p> <ul> <li>Record Script: This is the client side javascript function that will support actions from the individual field of each of the record when the datatable is rendered.<ul> <li>This function has two parameters:<ul> <li><code>record</code>: This is the record object.</li> <li><code>service</code>: This is the client side service used to interact with the backend.<ul> <li>The service provides the following methods:<ul> <li><code>call(methodName, parameters, pageId)</code>: Call a server-side method</li> <li><code>search(query)</code>: Update URL query parameters</li> <li><code>navigateToPage(pageId, queryParams)</code>: Navigate to another page</li> <li><code>navigate(url)</code>: Navigate to a URL</li> <li><code>snackbar(message)</code>: Show a snackbar message</li> <li><code>showLoading()</code>: Show loading indicator</li> <li><code>hideLoading()</code>: Hide loading indicator </li> <li><code>confirm(message)</code>: Show a confirmation dialog</li> <li><code>postAsync(url, payload)</code>: Make a POST request</li> <li><code>getAsync(url)</code>: Make a GET request</li> <li><code>graphQlAsync(query)</code>: Execute a GraphQL query</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> Client Script<pre><code>function execute(record, service) {\n\n    return {\n        record: record\n    }\n}\n</code></pre>"},{"location":"Components/Datatable/default/#parameters","title":"Parameters","text":"<ul> <li><code>current</code>: The current GraphQL Query Broker GlideRecord object.</li> <li><code>params</code>: URL parameters passed to the component</li> </ul>"},{"location":"Components/Datatable/default/#configuration-setup","title":"Configuration Setup","text":"<ul> <li>GraphQL Namespace: Retrieves the namespace from system properties using the scope</li> <li>Schema Reference: Obtains the GraphQL schema record for further configuration</li> </ul>"},{"location":"Components/Datatable/default/#datatable-configuration-object-properties","title":"Datatable Configuration Object Properties","text":"<ul> <li>table: The name of the table to query data from</li> <li>filters: Applied filters for data retrieval</li> <li>allow_selection: Controls if rows can be selected in the datatable</li> <li>gql: The GraphQL query string for data fetching</li> <li>details_template: Template for displaying record details</li> </ul>"},{"location":"Components/Datatable/default/#graphql-path-configuration","title":"GraphQL Path Configuration","text":"<ul> <li>For OOTB (Out of the Box) schema:<ul> <li>Results Path: <code>GlideRecord_Query.[table]._results</code></li> <li>Row Count Path: <code>GlideRecord_Query.[table]._rowCount</code></li> </ul> </li> <li>For Custom schema:<ul> <li>Results Path: <code>[namespace].[schema_namespace].getMultiple</code>. This is the path to query results in the GraphQL response.</li> <li>Row Count Path: <code>[namespace].[schema_namespace].getCount</code>. This is the path to get total row count to use for pagination in GraphQL response.</li> </ul> </li> </ul>"},{"location":"Components/Datatable/default/#additional-settings","title":"Additional Settings","text":"<ul> <li>data_columns: JSON parsed column configurations defining the structure</li> <li>schema: Type of schema being used (OOTB or custom)</li> <li>gql_schema: The namespace of the GraphQL schema</li> </ul> Server Script<pre><code>((current, params) =&gt; {\n    const namespace = gs.getProperty(current.sys_scope.scope + '.graphql_namespace');\n    const gqlSchemaGr = current.graphql_schema.getRefRecord();\n    let datatableConfig = {\n        table: current.getValue('table'),\n        filters: current.getValue('filters'),\n        allow_selection: current.getValue('allow_selection'),\n        gql: current.getValue('gql'),\n        details_template: current.getValue('record_details'),\n        gql_path: current.getValue('schema') == 'ootb' ? ('GlideRecord_Query.' + current.getValue('table') + '._results') : (namespace + '.' + gqlSchemaGr.getValue('namespace')+ '.getMultiple'),\n        row_count_path: current.getValue('schema') == 'ootb' ? ('GlideRecord_Query.' + current.getValue('table') + '._rowCount') : (namespace + '.' + gqlSchemaGr.getValue('namespace')+ '.getCount'),\n        data_columns: JSON.parse(current.getValue('columns_configs')),\n        schema: current.getValue('schema'),\n        gql_schema: gqlSchemaGr.getValue('namespace')\n    };\n\n    return datatableConfig;\n\n})(current, params);\n</code></pre>"},{"location":"Components/Datatable/example/","title":"Create a new DataTable","text":""},{"location":"Components/Datatable/example/#step-1-create-a-new-data-source","title":"Step 1: Create a new Data Source","text":"<p>A prerequisite for creating a datatable is to have a data source for a database table which the datatable will be based on. In this example, we will be using the <code>incident</code> table as the data source.</p>"},{"location":"Components/Datatable/example/#step-2-create-a-new-datatable","title":"Step 2: Create a new DataTable","text":"<p>Under the Administrator menu item, click on Datatables. Then click on the \"New\" button.</p> <ul> <li>For the \"Name\" field, enter a unique name for the datatable. In this example, we will be using <code>active_incident</code>.</li> <li>for the \"GraphQL Shcema\" field, select the <code>Task</code> schema as any table that inherits from the <code>task</code> table will use this schema.</li> <li>for the \"Data Source\" field, select the <code>incident</code> data source that we created in the previous step.</li> </ul>"},{"location":"Components/Datatable/example/#step-3-configure-the-datatable","title":"Step 3: Configure the DataTable","text":"<p>When we open up the newly created datatable, we will see the following.</p> <ul> <li>The \"Name\" field is the name of the datatable.</li> <li>The \"Data Source Type\" field is the type of the datatable.</li> <li>The \"Data Source\" field is the data source that we created in the previous step.</li> </ul> <p>Below that we see:</p> <ul> <li>A \"Selectable\" checkbox. This option indicate if records can be selected from the datatable.</li> <li>A \"Filter\" button. This will open up a filter dialog where we can write (server side) javascript code to return a final encoded query string that will serve as the base filter for the datatable.<ul> <li>For this example, we will update the filter to return a encoded query for all active incidents. <pre><code>((current, params) =&gt; {\n\n    return 'active=true';\n\n})(current, params);\n</code></pre></li> </ul> </li> <li>A \"Script\" button. This will open up a dialog where we can write (clident side) javascript code that can be used in the datatable column's advance configuration.</li> </ul>"},{"location":"Components/Datatable/example/#step-4-configure-the-column","title":"Step 4: Configure the Column","text":"<p>Underneath the Datatable configuration, we can see the column configurations. This area is divided into three panels.</p> <ul> <li>The \"First Panel\" This column with the header \"Available\" contains all the field for the <code>incident</code> table.</li> <li>The \"Second Panel\" This column contains a list of fields that we can add to the datatable.<ul> <li>By default, the <code>sys_id</code> field is selected.</li> </ul> </li> <li>The \"Third Panel\" This column will display the configuration of the selected field from the \"Second Column\".</li> </ul> <p>Continuing from Step 3, we will add two additional fields, <code>number</code> and <code>short_description</code> to the datatable. Once added, lets click on the gear icon on the <code>number</code> field.</p> <p>There are a few configuration options that we can set for the <code>number</code> field.</p> <p></p> <ul> <li>\"Pin\" This determines if the field will be displayed in the datatable. There are certain instance where we want to add a field to the datatable but we don't want it to be displayed, hence we can unpin the field. For this example, we will be pinning the <code>number</code> field.</li> <li>\"Sort\" This is a boolean value that determines if the field can be sorted.</li> <li>\"Search\" This is a boolean value that determines if the field can be searched. For this example, we will be enabling the search for the <code>number</code> field.</li> <li>\"Search Default\" This is a boolean value that determines at default state, this field will be selected in the search bar.</li> <li>\"Sort Default\" This is a boolean value that will be sorted on when the datatable is loaded.</li> <li>\"Editable\" This is a boolean value that determines if the field can be edited directly from the datatablelist view.</li> <li>\"Column Label\" This is the label that will be displayed in the datatable.</li> <li>\"Display Type\" In ServiceNow, there is a concept of value and display value. This is especially useful when dealing with reference, choice, date, etc. If we want to display the actual database value, we can select \"Value\" otherwise we can select \"Display\" for a more user friendly value.</li> <li>\"Search Field\" This field most of the time will be left defaulted to the selected field name. However, if we want to search on a different field, we can set it to a different field name.</li> <li>\"Sort Field\" This field most of the time will be left defaulted to the selected field name. However, if we want to sort on a different field when this field column is sorted, we can set it to a different field name.</li> <li>\"Advance\" This field most of the time will be left defaulted to the selected field name. However, if we want to filter on a different field when this field column is filtered, we can set it to a different field name.</li> </ul>"},{"location":"Components/Datatable/example/#step-5-add-a-datatable-to-a-page","title":"Step 5: Add a Datatable to a Page","text":"<p>Note that the query-name attribute is the name of the datatable that we created in Step 2.</p> <pre><code>&lt;mdui-datatable query-name=\"active_incident\"&gt;&lt;/mdui-datatable&gt;\n</code></pre> <p></p>"},{"location":"Components/Datatable/overview/","title":"Introduction","text":""},{"location":"Components/Datatable/overview/#overview","title":"Overview","text":"<p>The datatable component has two main components:</p> <ol> <li>The backend support for the datatable which provide metadata and data to the datatable. The metadata includes the columns, the data type of each column, and the filter options for each column as well as the GraphQL query to fetch the data.<ul> <li>Name: The name of the datatable. This is used to identify the datatable in the backend. This must be unique as it is used to fetch the data from the backend.</li> <li>Schema: The GraphQL schema of the datatable.<ul> <li>Custom: Selecting custom will use the custom schema.</li> <li>OOTB: Selecting OOTB will use the OOTB schema such as GlideRecord_Query</li> </ul> </li> <li>Filter Builder: This is a javascript function that will evaluate to return a ServiceNow encoded query string.<ul> <li>There two parameters to this function:<ul> <li><code>current</code>: This is the current GraphQL Query Broker GlideRecord object.</li> <li><code>params</code>: This is the parameters object coming from the URL query string on the frontend.</li> </ul> </li> </ul> </li> <li>GQL: The GraphQL query to fetch the data from the backend.</li> <li>Script: The javascript function to define the metadata of the datatable.<ul> <li>function:<ul> <li><code>current</code>: This is the current GraphQL Query Broker GlideRecord object.</li> <li><code>params</code>: This is the parameters object coming from the URL query string on the frontend.</li> </ul> </li> </ul> </li> <li>Record Script: Record Script: This is the client side javascript function that will support actions from the individual field of each of the record when the datatable is rendered.<ul> <li>This function has two parameters:<ul> <li><code>record</code>: This is the record object.</li> <li><code>service</code>: This is the client side service used to interact with the backend.<ul> <li>The service provides the following methods:<ul> <li><code>call(methodName, parameters, pageId)</code>: Call a server-side method</li> <li><code>search(query)</code>: Update URL query parameters</li> <li><code>navigateToPage(pageId, queryParams)</code>: Navigate to another page</li> <li><code>navigate(url)</code>: Navigate to a URL</li> <li><code>snackbar(message)</code>: Show a snackbar message</li> <li><code>showLoading()</code>: Show loading indicator</li> <li><code>hideLoading()</code>: Hide loading indicator </li> <li><code>confirm(message)</code>: Show a confirmation dialog</li> <li><code>postAsync(url, payload)</code>: Make a POST request</li> <li><code>getAsync(url)</code>: Make a GET request</li> <li><code>graphQlAsync(query)</code>: Execute a GraphQL query</li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> </ul> </li> <li>The datatable filter component</li> </ol>"},{"location":"Components/Form/example/","title":"Create a Record Producer form","text":"<p>In this example we will create a Record Producer form. When this form is submitted, it will create a new record in the <code>incident</code> table. </p>"},{"location":"Components/Form/example/#step-1-create-the-form","title":"Step 1: Create the form","text":"<ul> <li>In the \"Administrator\" menu, click \"Form\" menu item.</li> </ul> <ul> <li>Fill in the following fields:<ul> <li>\"Name\": Incident</li> <li>\"Table\": incident</li> <li>\"Type\": Record Producer. There are total of 3 types of forms:<ul> <li>Record Producer: CRUD operations on a record.</li> <li>JSON Producer: CRUD operations on a JSON object that is stored in a table field.</li> <li>JSON Viewer: Displays a JSON object that is stored in a table field.</li> </ul> </li> <li>\"Subtype\": There are total of 3 subtypes:<ul> <li>Record: CRUD on a non-task record.</li> <li>Request: CRUD on a request record.</li> <li>Task: CRUD on a task record.</li> </ul> </li> </ul> </li> </ul> <p>This form will have two questions:</p> <ol> <li>Describe the incident</li> <li>Urgency</li> </ol> <p>Both questions will be added to the \"Incident Details\" section and both questions will be required. However, to create an incident in ServiceNow, we need some additional fields that will be inferred from the user's account to fill out all the other fields.</p>"},{"location":"Components/Form/example/#step-2-create-a-section","title":"Step 2: Create a section","text":"<p>Once the form is created, look for the newly created form in the list of forms. Click on the form to open it. This will open the Form Builder UI.</p> <p></p> <p>Click on the \"+ Section\" button to add a new section to the form. A dialog will appear to ask for the section name. For this example, we will name the section \"Incident Details\".</p>"},{"location":"Components/Form/example/#step-3-add-the-first-question","title":"Step 3: Add the first question","text":"<p>For our first question, we want to ask the user to describe the incident.</p> <p></p> <ul> <li>\"Describe the incident\": A text field to enter the incident description. We also want to set the following attributes:<ul> <li>\"Required\": True</li> </ul> </li> </ul>"},{"location":"Components/Form/example/#step-31-configure-the-first-question","title":"Step 3.1: Configure the first question","text":"<p>Click on the question on the canvas to open the question properties. Scroll down on the properties panel to find the \"Required\" option and set it to \"True\".</p>"},{"location":"Components/Form/example/#step-4-add-the-second-question","title":"Step 4: Add the second question","text":"<p>For the second question, we want to ask the user to select the \"urgency\" of the incident.</p> <p></p> <ul> <li>\"Urgency\": A dropdown to select the urgency of the incident. We also want to set the following attributes:<ul> <li>\"Required\": True</li> </ul> </li> </ul>"},{"location":"Components/Form/overview/","title":"Introduction","text":""},{"location":"Components/Form/overview/#the-form-component-is-a-form-builder-that-allows-you-to-create-forms-that-interact-with","title":"The Form component is a form builder that allows you to create forms that interact with:","text":"<ul> <li>ServiceNow table record</li> <li>Completing a task</li> <li>Custom form submission action</li> </ul> <p>The forms are designed as follow:</p> <pre><code>graph TD;\n    A[Form]\n    A--&gt;B[Section 1]\n    A--&gt;C[Section 2]\n    A--&gt;D[Section 3]\n    B--&gt;E[Question 1]\n    B--&gt;F[Question 2]\n    C--&gt;G[Question 3]\n    C--&gt;H[Question 4]\n    D--&gt;I[Question 5]\n    D--&gt;J[Question 6]</code></pre> <p>When the form is displayed, each Section is displayed as a tab. Each question is displayed as a field in the tab. Form, Section and Question are all configurable at their individual level.</p>"},{"location":"Components/Form/overview/#form-configuration","title":"Form Configuration","text":"AttributesValidation ScriptSubmit CallbackCancel CallbackDelete Callback <p>During the form load, the <code>attributes</code> script is executed to provide metadata about the form. The code below is the default code that is provided when creating a new form.</p> <p>There is one method <code>getDefaultAttributes</code> that is executed to grab all the default attributes for the form.</p> <pre><code>(function(current, table, target_id, task_id, params){\n\n    var attributes = new FCQuestionnaireRepository().getDefaultAttributes(current, table, target_id, task_id, params);\n    return attributes;\n\n})(current, table, target_id, task_id, params);\n</code></pre> <p>the <code>getDefaultAttributes</code> method returns the following JSON object:</p> <p>Note</p> <p>Keep in mind that all of the attributes should be set via the Form Builder UI. The attributes are  used to provide default values for the form and the ability to override them via code.</p> <pre><code>{\n    \"target_id\": \"sys_id of the target record\",\n    \"name\": \"Questionnaire Name\",\n    \"css_classes\": \"bootstrap grid css classes e.g. col-md-6 col-sm-12\",\n    \"show_title\": true,\n    \"data\": {},\n    \"pdf_mappings\": {},\n    \"options\": {\n        \"show_save\": true,\n        \"show_submit\": true,\n        \"submit_label\": \"Submit\",\n        \"submit_confirmation_message\": \"Confirmation message\",\n        \"show_cancel\": true,\n        \"deleteable\": true,\n        \"condition\": true,\n        \"condition_failed_message\": \"You are not authorized to access this resource.\",\n        \"draftable\": true,\n        \"delete_draft_on_load\": true,\n        \"reassignable\": true,\n        \"hide_tab_if_one\": true,\n        \"cancel_label\": \"Cancel\",\n        \"save_label\": \"Save\",\n        \"delete_label\": \"Delete\",\n        \"show_title\": true,\n        \"pdf\": \"pdf_template_id\",\n        \"require_esignature\": false,\n        \"signature_list\": [],\n        \"close_task_on_submit\": false,\n        \"readonly\": false\n    }\n}\n</code></pre> <p>When the form is submitted, the <code>validation</code> script is executed to validate the form. The code below is the default code that is provided when creating a new form. The idea here is flexibility as you can use code to conditionally validate the form.</p> <p>The script will return an object with two properties:</p> <ul> <li><code>validation</code>: a boolean that indicates if the form is valid</li> <li><code>message</code>: a string that will be displayed to the user if the form is not valid</li> </ul> <pre><code>(function(form) {\n    var result = {\n        validation: true,\n        message: ''\n    };\n\n    return result;\n})(form);\n</code></pre> <p>The parameters <code>form</code> is the form object that is passed to the script. Here is a sample object below. The <code>On After Submit</code>, <code>On Cancel</code> and <code>On Delete</code> will also receive the same object. Lets break down the object:</p> <p>Note</p> <p>The <code>_</code> prefix is used to indicate that the property is metadata while the other properties are the form data.</p> <p>Note</p> <p>Please keep in mind that the <code>target_id</code> will be null when we're not editing an existing record.</p> <ul> <li><code>_questionnaire_id</code>: the sys_id of the form</li> <li><code>_target_id</code>: the sys_id of the target record</li> <li><code>_task_id</code>: the sys_id of the task</li> <li><code>_table</code>: the table name of the target record</li> <li><code>_params</code>: the URL query parameters passed to the form</li> <li><code>_pdf</code>: the sys_id of the PDF template</li> <li><code>_draftable</code>: a boolean that indicates if the form is draftable</li> <li><code>_require_esignature</code>: a boolean that indicates if the form requires e-signature</li> <li><code>_signature_list</code>: an array of signatures</li> <li><code>first_name</code>: the first name of the user</li> <li><code>last_name</code>: the last name of the user</li> </ul> <pre><code>{\n    \"_questionnaire_id\": \"492b403b83869210926492b6feaad3f7\",\n    \"_target_id\": null,\n    \"_task_id\": null,\n    \"_table\": \"sys_user\",\n    \"_params\": {\n        \"id\": \"request\",\n        \"catItemId\": \"1d2bc43b83869210926492b6feaad3d9\",\n        \"formId\": \"492b403b83869210926492b6feaad3f7\"\n    },\n    \"_pdf\": null,\n    \"_draftable\": false,\n    \"_require_esignature\": false,\n    \"_signature_list\": [],\n    \"first_name\": \"Quang\",\n    \"last_name\": \"Nguyen\"\n}\n</code></pre> <p>Once the form is validated and submitted, the <code>submit_callback</code> script is executed. This script is used to perform any additional actions after the form is submitted.</p> <p>Note</p> <p>When creating a new record, the <code>_target_id</code> will be set to the sys_id of the new record. When editing an existing record, the <code>_target_id</code> will be set to the sys_id of the existing record.</p> <pre><code>(function(form) {\n\n})(form);\n</code></pre> <p>Please see the <code>Validation Script</code> tab for more information on the <code>form</code> parameter.</p> <p>When the form is cancelled, the <code>cancel_callback</code> script is executed. This script is used to perform any additional actions after the form is cancelled. The code below is the default code that is provided when creating a new form. Not that in the default code, it is by default check to see if this form is associated with a task. If it is, it will cancel the task automatically. If you don't want this behavior, you can override it.</p> <pre><code>(function(form) {\n    //First we want to check if there's a task_id\n    if(!gs.nil(form._task_id)){\n        var calceledTaskResult = new HRTaskRepository().cancelTask(form._task_id);\n    }\n})(form);\n</code></pre> <p>Please see the <code>Validation Script</code> tab for more information on the <code>form</code> parameter.</p> <p>When the form is deleted, the <code>delete_callback</code> script is executed. This script is used to perform any additional actions after the form is deleted. The code below is the default code that is provided when creating a new form. By default, it will throw an error to indicate that the script is not implemented. You can override it by providing your own implementation. </p> <pre><code>(function(form){\n    throw new Error('Non Implementation Error.');\n})(form);\n</code></pre> <p>Please see the <code>Validation Script</code> tab for more information on the <code>form</code> parameter.</p>"},{"location":"Components/Form/overview/#question-configuration","title":"Question Configuration","text":""},{"location":"Components/Form/overview/#question-types","title":"Question Types","text":"<p>All question types include these common attributes: <pre><code>{\n  \"params\": {},\n  \"table\": \"string\",\n  \"target_id\": \"string\",\n  \"task_id\": \"string\",\n  \"active\": \"boolean\",\n  \"options\": {\n    \"width\": \"string\",\n    \"label\": \"string\", \n    \"placeholder\": \"string\",\n    \"css_classes\": \"string\",\n    \"css_styles\": \"string\"\n  }\n}\n</code></pre></p> <p>The <code>triggered_questions</code> array present in all question types contains the <code>number</code> values of other questions on the form. When the value of any question listed in this array changes, the current question will re-evaluate its attributes and potentially update its behavior, visibility, or available options. This enables dynamic form behavior where questions can react to changes in other questions' values.</p>"},{"location":"Components/Form/overview/#e-signature","title":"E-Signature","text":"<p>Electronic signature input field <pre><code>{\n  \"triggered_questions\": [],\n  \"pdf\": {} // Optional PDF document configuration\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#text","title":"Text","text":"<p>Single line text input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#currency","title":"Currency","text":"<p>Currency input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#ssn","title":"SSN","text":"<p>Social Security Number input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#email","title":"Email","text":"<p>Email input field with validation <pre><code>{\n  \"triggered_questions\": [],\n  \"regex\": \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$\",\n  \"regex_message\": \"Invalid Email\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#phone","title":"Phone","text":"<p>Phone number input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#textarea","title":"Textarea","text":"<p>Multi-line text input field <pre><code>{\n  \"triggered_questions\": [],\n  \"min_length\": 0,\n  \"max_length\": 500\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#date","title":"Date","text":"<p>Date input field with format validation <pre><code>{\n  \"triggered_questions\": [],\n  \"regex\": \"^(0[1-9]|1[012])[\\\\/](0[1-9]|[12][0-9]|3[01])[\\\\/]\\\\d{4}$\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#datepicker","title":"Datepicker","text":"<p>Date picker widget <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#liquid","title":"Liquid","text":"<p>Liquid template rendering field <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": {}\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#attachment","title":"Attachment","text":"<p>File attachment field <pre><code>{\n  \"triggered_questions\": [],\n  \"table\": \"string\",\n  \"target_id\": \"string\",\n  \"show_delete\": true\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#select","title":"Select","text":"<p>Dropdown select field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [],\n  \"help\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#radio","title":"Radio","text":"<p>Radio button group <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Yes\",\n      \"value\": \"Yes\"\n    },\n    {\n      \"label\": \"No\",\n      \"value\": \"No\"\n    }\n  ],\n  \"vertical\": true\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#autocomplete","title":"Autocomplete","text":"<p>Search-based selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"search_table\": \"\",\n  \"search_query\": \"\",\n  \"display_columns\": [],\n  \"value_column\": \"sys_id\",\n  \"min_length\": 3,\n  \"help\": \"\",\n  \"error\": null\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#multiselect","title":"Multiselect","text":"<p>Multiple selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Option 1\",\n      \"value\": \"Option 1\"\n    },\n    {\n      \"label\": \"Option 2\",\n      \"value\": \"Option 2\"\n    }\n  ],\n  \"save_type\": \"reference\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#multiselect-list","title":"Multiselect List","text":"<p>Advanced multiple selection field with search <pre><code>{\n  \"triggered_questions\": [],\n  \"search_table\": \"\",\n  \"search_query\": \"\",\n  \"display_columns\": [],\n  \"value_column\": \"sys_id\",\n  \"min_length\": 3,\n  \"help\": \"\",\n  \"required_count\": 1,\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#tree","title":"Tree","text":"<p>Hierarchical selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"id\": \"option_1\",\n      \"title\": \"Option 1\",\n      \"item_count\": 0,\n      \"children\": [],\n      \"selectable\": true\n    }\n  ],\n  \"save_type\": \"reference\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#checkbox","title":"Checkbox","text":"<p>Boolean checkbox field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Yes\",\n      \"value\": true\n    },\n    {\n      \"label\": \"No\",\n      \"value\": false\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#dynamic-select","title":"Dynamic Select","text":"<p>Dynamic dropdown selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#dynamic-multiselect","title":"Dynamic Multiselect","text":"<p>Dynamic multiple selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#worknote","title":"Worknote","text":"<p>Work notes and comments field <pre><code>{\n  \"triggered_questions\": [],\n  \"additional_comments\": [],\n  \"work_notes\": [],\n  \"allow_comment\": \"boolean\",\n  \"allow_worknote\": \"boolean\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#widget","title":"Widget","text":"<p>Custom widget container <pre><code>{\n  \"triggered_questions\": [],\n  \"widget_id\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#repeater","title":"Repeater","text":"<p>Repeatable form section <pre><code>{\n  \"triggered_questions\": [],\n  \"columns\": [\n    {\n      \"field_label\": \"Field Label\",\n      \"field_name\": \"Field Name\",\n      \"field_type\": \"string\",\n      \"width\": \"col-md-12\",\n      \"required\": true\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#related-list","title":"Related List","text":"<p>Related records list <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": [],\n  \"questionnaire_id\": \"\",\n  \"page_id\": \"hr_questionnaire\",\n  \"columns\": [\n    {\n      \"label\": \"\",\n      \"value\": \"\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/overview/#datatable","title":"Datatable","text":"<p>Data table display <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": [],\n  \"query_name\": \"\",\n  \"page_size\": 10,\n  \"show_pagination\": true,\n  \"hide_details\": true,\n  \"allow_selection\": false,\n  \"show_search\": true,\n  \"questionnaire_id\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/overview/","title":"Introduction","text":"<p>A section is a container for questions fields. In the frontend, sections are rendered as a tab.</p>"},{"location":"Components/Form/Section/Question/configuration/","title":"Configurations","text":"Attributes <p>The configuration metadata are returned from the <code>attributes</code> script below. Please see the Question Types for more information on the attributes. </p> <p>Note</p> <p>When configuring the attributes, it is recommended to use the Form Builder UI. This script is for advanced use cases where we need the attributes to be dynamically.</p> <pre><code>    (function (current, table, target_id, task_id, params) {\n\n    var attributes = new FCQuestionRepository().getAttributes(current, table, target_id, task_id, params);\n    return attributes;\n\n})(current, table, target_id, task_id, params);\n</code></pre>"},{"location":"Components/Form/Section/Question/overview/","title":"Introduction","text":"<p>A question is a field that allows the user to input data. Every question type has a set of attributes that can be configured to customize its behavior. However, all question types share a set of common attributes. The final attributes metadata is returned from the <code>attributes</code> script.</p>"},{"location":"Components/Form/Section/Question/overview/#common-attributes","title":"Common Attributes","text":"<p>All question types include these base attributes: <pre><code>{\n  \"params\": {},\n  \"table\": \"string\",\n  \"target_id\": \"string\",\n  \"task_id\": \"string\",\n  \"active\": \"boolean\",\n  \"options\": {\n    \"width\": \"string\",\n    \"label\": \"string\", \n    \"placeholder\": \"string\",\n    \"css_classes\": \"string\",\n    \"css_styles\": \"string\"\n  }\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#question-types","title":"Question Types","text":"<p>The <code>triggered_questions</code> array present in all question types contains the <code>number</code> values of other questions on the form. When the value of any question listed in this array changes, the current question will re-evaluate its attributes and potentially update its behavior, visibility, or available options. This enables dynamic form behavior where questions can react to changes in other questions' values.</p> <p>For example, if a select question has <code>triggered_questions: [\"1\", \"2\"]</code>, it means this select question will react whenever the values of questions numbered \"1\" or \"2\" change on the form.</p>"},{"location":"Components/Form/Section/Question/overview/#e-signature","title":"E-Signature","text":"<p>Electronic signature input field <pre><code>{\n  \"triggered_questions\": [],\n  \"pdf\": {} // Optional PDF document configuration\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#text","title":"Text","text":"<p>Single line text input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#currency","title":"Currency","text":"<p>Currency input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#ssn","title":"SSN","text":"<p>Social Security Number input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#email","title":"Email","text":"<p>Email input field with validation <pre><code>{\n  \"triggered_questions\": [],\n  \"regex\": \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$\",\n  \"regex_message\": \"Invalid Email\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#phone","title":"Phone","text":"<p>Phone number input field <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#textarea","title":"Textarea","text":"<p>Multi-line text input field <pre><code>{\n  \"triggered_questions\": [],\n  \"min_length\": 0,\n  \"max_length\": 500\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#date","title":"Date","text":"<p>Date input field with format validation <pre><code>{\n  \"triggered_questions\": [],\n  \"regex\": \"^(0[1-9]|1[012])[\\\\/](0[1-9]|[12][0-9]|3[01])[\\\\/]\\\\d{4}$\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#datepicker","title":"Datepicker","text":"<p>Date picker widget <pre><code>{\n  \"triggered_questions\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#liquid","title":"Liquid","text":"<p>Liquid template rendering field <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": {}\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#attachment","title":"Attachment","text":"<p>File attachment field <pre><code>{\n  \"triggered_questions\": [],\n  \"table\": \"string\",\n  \"target_id\": \"string\",\n  \"show_delete\": true\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#select","title":"Select","text":"<p>Dropdown select field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [],\n  \"help\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#radio","title":"Radio","text":"<p>Radio button group <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Yes\",\n      \"value\": \"Yes\"\n    },\n    {\n      \"label\": \"No\",\n      \"value\": \"No\"\n    }\n  ],\n  \"vertical\": true\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#autocomplete","title":"Autocomplete","text":"<p>Search-based selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"search_table\": \"\",\n  \"search_query\": \"\",\n  \"display_columns\": [],\n  \"value_column\": \"sys_id\",\n  \"min_length\": 3,\n  \"help\": \"\",\n  \"error\": null\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#multiselect","title":"Multiselect","text":"<p>Multiple selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Option 1\",\n      \"value\": \"Option 1\"\n    },\n    {\n      \"label\": \"Option 2\",\n      \"value\": \"Option 2\"\n    }\n  ],\n  \"save_type\": \"reference\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#multiselect-list","title":"Multiselect List","text":"<p>Advanced multiple selection field with search <pre><code>{\n  \"triggered_questions\": [],\n  \"search_table\": \"\",\n  \"search_query\": \"\",\n  \"display_columns\": [],\n  \"value_column\": \"sys_id\",\n  \"min_length\": 3,\n  \"help\": \"\",\n  \"required_count\": 1,\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#tree","title":"Tree","text":"<p>Hierarchical selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"id\": \"option_1\",\n      \"title\": \"Option 1\",\n      \"item_count\": 0,\n      \"children\": [],\n      \"selectable\": true\n    }\n  ],\n  \"save_type\": \"reference\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#checkbox","title":"Checkbox","text":"<p>Boolean checkbox field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": [\n    {\n      \"label\": \"Yes\",\n      \"value\": true\n    },\n    {\n      \"label\": \"No\",\n      \"value\": false\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#dynamic-select","title":"Dynamic Select","text":"<p>Dynamic dropdown selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#dynamic-multiselect","title":"Dynamic Multiselect","text":"<p>Dynamic multiple selection field <pre><code>{\n  \"triggered_questions\": [],\n  \"select_options\": []\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#worknote","title":"Worknote","text":"<p>Work notes and comments field <pre><code>{\n  \"triggered_questions\": [],\n  \"additional_comments\": [],\n  \"work_notes\": [],\n  \"allow_comment\": \"boolean\",\n  \"allow_worknote\": \"boolean\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#widget","title":"Widget","text":"<p>Custom widget container <pre><code>{\n  \"triggered_questions\": [],\n  \"widget_id\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#repeater","title":"Repeater","text":"<p>Repeatable form section <pre><code>{\n  \"triggered_questions\": [],\n  \"columns\": [\n    {\n      \"field_label\": \"Field Label\",\n      \"field_name\": \"Field Name\",\n      \"field_type\": \"string\",\n      \"width\": \"col-md-12\",\n      \"required\": true\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#related-list","title":"Related List","text":"<p>Related records list <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": [],\n  \"questionnaire_id\": \"\",\n  \"page_id\": \"hr_questionnaire\",\n  \"columns\": [\n    {\n      \"label\": \"\",\n      \"value\": \"\"\n    }\n  ]\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/overview/#datatable","title":"Datatable","text":"<p>Data table display <pre><code>{\n  \"triggered_questions\": [],\n  \"data\": [],\n  \"query_name\": \"\",\n  \"page_size\": 10,\n  \"show_pagination\": true,\n  \"hide_details\": true,\n  \"allow_selection\": false,\n  \"show_search\": true,\n  \"questionnaire_id\": \"\"\n}\n</code></pre></p>"},{"location":"Components/Form/Section/Question/text/","title":"Text","text":"Attributes <pre><code>    (function (current, table, target_id, task_id, params) {\n\n    var attributes = new FCQuestionRepository().getAttributes(current, table, target_id, task_id, params);\n    return attributes;\n\n})(current, table, target_id, task_id, params);\n</code></pre>"},{"location":"Maintainance/build_locally/","title":"Build locally","text":""},{"location":"Maintainance/build_locally/#set-up-the-environment","title":"Set up the environment","text":"WindowsMacOS <pre><code>python -m venv .venv\n.venv/Scripts/activate\n</code></pre> <pre><code>python -m venv .venv\nsource .venv/bin/activate\n</code></pre>"},{"location":"Maintainance/build_locally/#push-the-code-to-the-repository","title":"Push the code to the repository","text":"<pre><code>git add .\ngit commit -m \"commit message\"\ngit push\n</code></pre>"},{"location":"Maintainance/build_locally/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"Maintainance/build_locally/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"Page/example/","title":"Create a new Page","text":"<p>In this example, we will be creating a page that will:</p> <ul> <li>Fetch a \"single\" record from the <code>incident</code> table using the server script.</li> <li>Create a function in the server script to update the incident record by closing the incident.</li> <li>Display the record in a \"Template\" upon the page is loaded</li> <li>Have a button in the template which will trigger a method in the \"Client Script\" that will call the server script method to update the record.</li> </ul>"},{"location":"Page/example/#step-1-create-a-new-page","title":"Step 1: Create a new Page","text":"<p>Create a new page by clicking on the \"New\" button as shown in the image.</p> <p></p> <ul> <li>For the \"Title\" field, enter a user friendly name for the page.</li> <li>For the \"Type\" field, select \"Page\".</li> <li>For the \"Route\" field, enter a unique route for the page. The route is used to access the page and must be unique.</li> <li>For the \"Active\" checkbox, select the page to be active.</li> </ul>"},{"location":"Page/example/#step-2-configure-the-page","title":"Step 2: Configure the Page","text":"<p>Click on the plus icon indicated on the image to add a new Template component. Once it is added, click the pencil icon indicated on the image to edit the template. Once clicked, the template dialog editor will be opened.</p> Server ScriptClient ScriptTemplate <p>The server script uses the JavaScript revealing module pattern - any functions returned in the object at the bottom will be available for the client to call. In this case, both <code>initialize()</code> and <code>closeIncident()</code> are exposed.</p> <pre><code>(function (params) {\n\n    function initialize() {\n        var model = {\n            condition: true\n        };\n\n        var incidentGr = new GlideRecord('incident');\n        incidentGr.addEncodedQuery('active=true');\n        incidentGr.setLimit(1);\n        incidentGr.query();\n        incidentGr.next();\n\n        model.incident = {\n            sys_id: incidentGr.getUniqueValue(),\n            number: incidentGr.getValue('number'),\n            short_description: incidentGr.getValue('short_description'),\n        }\n\n        return model;\n    }\n\n    function closeIncident(incidentId){\n        var incidentGr = new GlideRecord('incident');\n        incidentGr.get(incidentId)\n\n        incidentGr.setValue('state',8);\n        incidentGr.update();\n    }\n\n\n    return {\n        initialize: initialize,\n        closeIncident: closeIncident\n    };\n\n})(params);\n</code></pre> <p>The <code>helpers</code> parameter is an object that contains the following properties:</p> <ul> <li><code>service</code>: This is the client side service used to interact with the backend.<ul> <li>The service provides the following methods:<ul> <li><code>call(methodName, parameters, pageId)</code>: Call a server-side method</li> <li><code>search(query)</code>: Update URL query parameters</li> <li><code>navigateToPage(pageId, queryParams)</code>: Navigate to another page</li> <li><code>navigate(url)</code>: Navigate to a URL</li> <li><code>snackbar(message)</code>: Show a snackbar message</li> <li><code>showLoading()</code>: Show loading indicator</li> <li><code>hideLoading()</code>: Hide loading indicator </li> <li><code>confirm(message)</code>: Show a confirmation dialog</li> <li><code>postAsync(url, payload)</code>: Make a POST request</li> <li><code>getAsync(url)</code>: Make a GET request</li> <li><code>graphQlAsync(query)</code>: Execute a GraphQL query</li> </ul> </li> </ul> </li> </ul> <p>Note</p> <p>In this example, we will leverage the <code>call</code> method to call the <code>closeIncident</code> method in the server script. The <code>pageId</code> parameter is the id of the page that is currently loaded. This is an optional parameter and can be omitted if the method does not require it.</p> <p>Using the revealing module pattern, only methods returned in the object literal will be accessible to the HTML template. In this case, only closeIncident() is exposed.</p> <pre><code>function execute(helpers){\n    async function closeIncident(incidentId){\n\n        await helpers.service.call('closeIncident', [incidentId]);\n        helpers.service.snackbar(\"Incident closed successfully!\");\n\n    }\n\n    return {\n        closeIncident: closeIncident\n    };\n}\n</code></pre> <pre><code>&lt;div class=\"container main-container mt-5\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col p-3\"&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.number\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.short_description\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;mdui-button @click=\"$scope.closeIncident($scope.model.incident.sys_id)\" variant=\"filled\"&gt;Close Incident\n                &lt;/mdui-button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Page/overview/","title":"Introduction","text":"<p>The Page component is similar to a ServiceNow widget, and like a widget, it has four main components:</p> Server ScriptClient ScriptTemplateCSS <p>The \"Server Script\" This is the server side script that will provide the data to the page.</p> <pre><code>(function (params) {\n\n    function initialize() {\n        let model = {\n            condition: true\n        };\n        return model;\n    }\n\n    return {\n        initialize: initialize,\n    };\n\n})(params);\n</code></pre> <p>The \"Client Script\" This is the client side script that will provide the logic to the page.</p> <pre><code>function execute(helpers){\n    function myFunction(){\n        return 'Hello World!';\n    }\n\n    return {\n        myFunction: myFunction\n    };\n}\n</code></pre> <p>The \"Template\" This is the HTML template that will be used to display the page. The template support AlpineJS for dynamic content and reactivity.</p> <p>The \"CSS\" This is the CSS code that will be used to style the page. The css is encapsulated in the page component and will not be applied to other pages.</p>"},{"location":"Widget/example/","title":"Create and embed a new Widget","text":"<p>In this example, we will create a simple widget that displays a list of high priority incidents. We will embed this widget into a page that we created in the Create a new Page section.</p>"},{"location":"Widget/example/#create-a-new-widget","title":"Create a new Widget","text":"<p>To create a new widget, click the Widgets menu item in the left sidebar.</p> <p>There are three required fields:</p> <ol> <li>Title: The display name of the widget.</li> <li>Type: The type of the widget. For this example, we will select Widget.</li> <li>Name: The name of the widget. This will be used as the identifier for the widget therefore it must be unique.</li> </ol> Server ScriptClient ScriptHTML Template <pre><code>(function (params) {\n\n    function initialize() {\n        var model = {\n            condition: true,\n            priority_incidents: []\n        };\n\n        var priorityIncidentsGr = new GlideRecord('incident');\n        priorityIncidentsGr.addEncodedQuery('active=true^priority=1');\n        priorityIncidentsGr.query();\n        while(priorityIncidentsGr.next()){\n            model.priority_incidents.push({\n                sys_id: priorityIncidentsGr.getUniqueValue(),\n                number: priorityIncidentsGr.getValue('number'),\n                short_description: priorityIncidentsGr.getValue('short_description')\n            });\n        }\n        return model;\n    }\n\n\n    return {\n        initialize: initialize\n    };\n\n})(params);\n</code></pre> <pre><code>function execute(helpers){\n\n    return {\n    };\n}\n</code></pre> <pre><code>&lt;div class=\"d-flex justify-content-center\"&gt;\n    &lt;template x-for=\"incident in $scope.model.priority_incidents\"&gt;\n        &lt;mdui-card variant=\"filled\" class=\"m-1 p-3\" style=\"width: 200px;height: 124px\"&gt;\n            &lt;div class=\"fw-bold\"&gt;\n                &lt;span x-text=\"incident.number\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"incident.short_description\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n        &lt;/mdui-card&gt;\n    &lt;/template&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Widget/example/#embed-the-widget-into-a-page","title":"Embed the Widget into a Page","text":"<p>To embed the widget into a page, we use the following code below. Note the highlighted line which indicates the html tag with the widget id as the attribute.</p> <pre><code>&lt;div class=\"container main-container mt-5\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col p-3\"&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.number\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.short_description\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;mdui-button @click=\"$scope.closeIncident($scope.model.incident.sys_id)\" variant=\"filled\"&gt;Close Incident\n                &lt;/mdui-button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col\"&gt;\n            &lt;fc-widget widget-id=\"priority_incident_widget\"&gt;&lt;/fc-widget&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Widget/example2/","title":"Passing options into the Widget","text":"<p>Passing options into the widget. This is useful when you want to pass data to the widget server script in order to customize the widget.</p> <p>In this example, we will follow up with the previos example Create and embed a new Widget and pass options into the widget.</p>"},{"location":"Widget/example2/#page-configuration","title":"Page Configuration","text":"<p>In the page configuration, we will pass the options into the <code>fc-widget</code> tag.</p> Client ScriptHTML Template <pre><code>function execute(helpers){\n    async function closeIncident(incidentId){\n\n        await helpers.service.call('closeIncident', [incidentId]);\n        helpers.service.snackbar(\"Incident closed successfully!\");\n\n    }\n\n    function getPageSize(){\n        return 15;\n    }\n\n    return {\n        closeIncident: closeIncident,\n        getPageSize: getPageSize\n    };\n}\n</code></pre> <p>In line 19-21, we are passing the <code>page_size</code> option into the widget via the <code>:options</code> attribute. value must be a JSON string. We are also passing the getPageSize function defined in the client script as a value to the <code>page_size</code> property.</p> <pre><code>&lt;div class=\"container main-container mt-5\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col p-3\"&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.number\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;span x-text=\"$scope.model.incident.short_description\"&gt;&lt;/span&gt;\n            &lt;/div&gt;\n            &lt;div&gt;\n                &lt;mdui-button @click=\"$scope.closeIncident($scope.model.incident.sys_id)\" variant=\"filled\"&gt;\n                    Close Incident\n                &lt;/mdui-button&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"col\"&gt;\n            &lt;fc-widget widget-id=\"priority_incident_widget\" :has-options=\"true\"\n                :options='JSON.stringify({ page_size: $scope.getPageSize()})'&gt;\n            &lt;/fc-widget&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>"},{"location":"Widget/example2/#widget-configuration","title":"Widget Configuration","text":"<p>Now that we setup the options to be passed into the widget from the page, we need to setup the widget to accept the options.</p> Server Script <p>As you can see on line 11, we are passing the <code>page_size</code> option into the widget. This is the number of incidents that will be displayed in the widget.</p> <pre><code>(function (params) {\n\n    function initialize() {\n        var model = {\n            condition: true,\n            priority_incidents: []\n        };\n\n        var priorityIncidentsGr = new GlideRecord('incident');\n        priorityIncidentsGr.addEncodedQuery('active=true^priority=1');\n        priorityIncidentsGr.setLimit(params.page_size);\n        priorityIncidentsGr.query();\n\n        while(priorityIncidentsGr.next()){\n            model.priority_incidents.push({\n                sys_id: priorityIncidentsGr.getUniqueValue(),\n                number: priorityIncidentsGr.getValue('number'),\n                short_description: priorityIncidentsGr.getValue('short_description')\n            });\n        }\n        return model;\n    }\n\n\n    return {\n        initialize: initialize\n    };\n\n})(params);\n</code></pre>"},{"location":"Widget/overview/","title":"Introduction","text":"<p>In FC, a widget is identical to a page. The only difference is that a widget is embedded in a page. The purpose of a widget is to serve as a reusable component across multiple pages. It has the same capabilities as a page, including server and client scripts. Please see the Page section for more information.</p>"}]}